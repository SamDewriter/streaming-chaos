<!doctype html>
<meta charset="utf-8" />
<title>Local WS Tester</title>
<body style="font-family:system-ui;max-width:700px;margin:2rem auto">
  <h1>Local WebSocket Tester</h1>
  <input id="url" value="ws://localhost:8080/ws/sensor" style="width:100%" />
  <button id="btn">Connect</button>
  <button onclick="location.reload()">Reload</button>
  <pre id="log" style="background:#111;color:#0f0;padding:1rem;height:300px;overflow:auto"></pre>
  <script>
    const log = (m)=>{ const p=document.getElementById('log'); p.textContent+=m+"\n"; p.scrollTop=p.scrollHeight; };
    document.getElementById('btn').onclick = ()=>{
      const u = document.getElementById('url').value;
      const ws = new WebSocket(u);
      ws.onopen = ()=>log("âœ… connected: " + u);
      ws.onmessage = (e)=>log(e.data);
      ws.onerror = (e)=>log("âŒ error");
      ws.onclose = ()=>log("ðŸ”Œ closed");
    };
  </script>
</body>
